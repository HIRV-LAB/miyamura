

本章では，4章で分析した結果および，欠陥の総数や\ref{sec:欠陥の分類}章で示したIntentやCapabilityの違い，欠陥の起点となるプロセスについて考察を行う．

\subsection{各プロセスにおいて発見されるべき欠陥数の比較}
\label{積み上げ}
各プロセスに対して，発見されるべき欠陥数をカウントしたものを図\ref{積み上げグラフ}に示す．
グラフの横軸は表\ref{ソフトウェア開発プロセス}に記載した，JAXAで使用されているソフトウェア開発標準のプロセスに対応する番号を，縦軸は不具合の件数を示し，分類ごとに色や柄分けを行っている．

図\ref{積み上げグラフ}より，ソフトウェアよりも上位のシステムからの要求にソフトウェアのプロセスが大きく依存し，より上位の曖昧さに起因して誤った要求分析が行われた結果，多くの欠陥が検出されたと読み取ることができる．その根拠として，図\ref{積み上げグラフ}では，プロセス4.9の``前提条件の明確化''やプロセス4.1の``SW要求仕様書の作成''の項目の値が高くなっている．
これらの項目の共通点として，これらのプロセスではハードウェアなどソフトウェア以外のシステムが大きく関わってくることがあげられる．
また，類似している状況の項目として，プロセス4.12の``HWの評価''の欠陥も多い値となっている．
また，欠陥をカバーするテストの項目であるプロセス4.11の``試験についての評価''でも欠陥が多くなっており，上位システムの要求から受ける影響によりテストが正しく評価されていないと考えられる．

\begin{landscape}
\begin{figure}[H]
\begin{center}
\includegraphics[keepaspectratio, scale=0.6]{tex/fig/add.pdf}
\caption{各プロセスにおいて発見されるべき欠陥数}
\label{積み上げグラフ}
\end{center}
\end{figure}
\end{landscape}

\subsection{Intentに関する比較}
\label{Intent}
Intentに着目した場合，欠陥に関連するプロセスにどのような差が生じるのかを図\ref{1+2}に示す．
グラフの横軸は表\ref{ソフトウェア開発プロセス}に記載している，JAXAで使用されているソフトウェア開発標準のプロセスに対応する番号を，縦軸は欠陥の総数に大きな差があるため正規化をした数値を示す．
Non-Deliberate fault（灰色）は欠陥の分類1と分類2を足したものとなっており，Deliberate fault（黒色）が欠陥の分類の3と分類4を足したものとなっている．

図\ref{1+2}で着目すべき項目はNon-Deliberate faultとDeliberate faultの差が大きいプロセス4.6の``既存物との整合性の確認''である．
この項目は上位との整合性を確認するプロセスである．
灰色の値が多いことから，開発者が熟考したにも関わらず，気付いていない間違いが起きていることが読み取れる．
この理由として，確認すべき上位のプロセス4.1の``SW要求仕様書の作成''の成果物の影響であることが考えられる．
プロセス4.1の``SW要求仕様書の作成''において，不具合が多いことは\ref{積み上げ}章で示した通りである．
すなわち，完全でなかった成果物に対して整合性を確認したことになり，結果としてプロセス4.6の``既存物との整合性の確認''のNon-Deliberate faultの項目がDeliberate faultに比べ高い割合であったと考えられる．

\begin{landscape}
\begin{figure}[H]
\begin{center}
\includegraphics[keepaspectratio, scale=0.6]{tex/fig/Intent.pdf}
\caption{Deliberate faultとNon-Deliberate faultの比較}
\label{1+2}
\end{center}
\end{figure}
\end{landscape}

\subsection{Capabilityに関する比較}
\label{Capa}
Capabilityに着目した場合，欠陥に関連するプロセスにどのような差が生じるのかについて図\ref{1+3}に示す．
グラフの横軸は表\ref{ソフトウェア開発プロセス}に記載している，JAXAで使用されているソフトウェア開発標準のプロセスに対応する番号を，縦軸は欠陥の総数に大きな差があるため正規化をした数値を示す．
Accidental faults（灰色）は欠陥の分類1と分類3を足したものとなっており，Incompetence faults（黒色）が欠陥の分類の2と分類4を足したものとなっている．

図\ref{1+3}で着目すべき項目はAccidental faultsとIncompetence faultsの差が大きいより上位のプロセスである．
プロセス1.1の``開発計画立案''からプロセス3.6の``IF要求の抽出''においてAccidental faultsに比べてIncompetence faultsの値が目立つ結果となっている．
よって，これら開発の初期段階であるプロセスでは1つの小さなミスが，後のプロセスにおいて大きく表れる．
したがってこのプロセスにおいては実行する技術が求められることが考えられる．
これは図\ref{1+3}からも読み取ることができる．
例えば，同じ前提条件や制約に関するプロセス4.9の``前提条件の評価''とプロセス4.9の``前提条件の明確化''，要求仕様書に関する，プロセス2.2の``要求仕様書作成''とプロセス4.1の``SW要求仕様書の作成''など，プロセスの下位に行くにつれ欠陥の数が多くなっている．

\begin{landscape}
\begin{figure}[H]
\begin{center}
\includegraphics[keepaspectratio, scale=0.6]{tex/fig/Capability.pdf}
\caption{Accidental faultsとIncompetence faultsの比較}
\label{1+3}
\end{center}
\end{figure}
\end{landscape}



\subsection{各プロセスの関係性について}
\label{プロセスの関係}

表\ref{影響度}は，各プロセスがどのプロセスに影響を与え，どのプロセスから影響を受けているのかを示したものである．
行も列もプロセスを表しており，表\ref{ソフトウェア開発プロセス}を基に対応するプロセスIDを表記した．
この表の数値は，4章で得たデータを次章で述べる手順に従い詳細に分析したものである．
\subsubsection{各プロセスへの影響度の調査}
\label{sec:making_table}
表\ref{影響度}で示した各プロセスへの影響度の求め方について述べる．
例として濃い灰色のセル（横軸：プロセス3.4，縦軸：プロセス4.4）について取り上げる．
まず初めに，\ref{sec:how_to_class}章で示した手順3で作成されたマッピング結果からプロセス4.4の``異常処理の仕様を含める''で発見されるべき欠陥を探した．その結果，発見されるべき欠陥は合計で3件見つかった．
該当プロセスで発見されるべき欠陥の総数は，この値が表の一番下の行に記述している．また\ref{集計}章で示したように，1つの欠陥が複数のプロセスで見つかる可能性があったために，プロセス4.4の``異常処理の仕様を含める''で発見すべき欠陥のうち他のプロセスであるならどこで発見すべきだったのかをプロセスごとに調べカウントした．
その値をプロセス4.4の``異常処理の仕様を含める''プロセスで発見されるべき欠陥の総数である3で割った値を対応するセルに記述する．
この例では，プロセス3.4の``前提条件の評価''で見つけるべき欠陥の数は1つであったため，$1\div3\simeq0.3$となっている．
これを全プロセスに対して行ったものが，表\ref{影響度}である．
対象となる不具合が存在しかなったセルについては``-''と記述している．
表\ref{影響度}より，各プロセスの依存関係，すなわちどのプロセスがどのプロセスに対して影響を与えているか，あるいは影響を受けているのか分析を行うことが可能となる．
影響とは，他のプロセスを解決することで，対象としているプロセスでの不具合がなくなることを指し示す．

表\ref{影響度}では，行も列も同じプロセスの場合は黒塗りに，計算した値が0.5以上の場合は背景色を薄い灰色に変更している．
すなわちプロセス間の影響度が高いものが薄い灰色となっている．
また，黒いセルより上側にあるものはそのプロセスより上位のプロセスに該当し，下側にあるものはそのプロセスより下位のプロセスに該当する．
今回の例では，プロセス4.4の``異常処理の仕様を含める''はプロセス3.2の``要求の割り当て''やプロセス4.1の``SW要求仕様書の作成''からの影響を多く受けており，逆に大きく影響を与えているものはなかったことが分かる．

\begin{landscape}
\begin{table*}[h]
%\scriptsize
\footnotesize
%\small
\begin{center}
\caption{各プロセスへの影響度}
\label{影響度}
\hbox to\hsize{\hfil
\begin{tabular}{|l||l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|l|} \hline
プロセスID & 1.1 & 1.2 & 2.1 & 2.2 & 3.1 & 3.2 & 3.3 & 3.4 & 3.5 & 3.6 & 4.1 & 4.2 & 4.3 & 4.4 & 4.5 & 4.6 & 4.7 & 4.8 & 4.9 & 4.10 & 4.11 & 4.12 \\\hline
\hline
1.1 & \cellcolor{black}1 & 0.3 & \cellcolor[gray]{0.7}1 & \cellcolor[gray]{0.7}0.5 & 1 & - &  & 0.1 & - & - & 0 & - &  & - & - & - & - & - & 0.1 & 0.1 & - & - \\\hline
1.2 & 0.2 & \cellcolor{black}1 & - & - & - & - &  & - & - & - & - & - &  & - & - & - & - & - & - & - & - & - \\\hline
2.1 & \cellcolor[gray]{0.7}0.6 & - & \cellcolor{black}1 & \cellcolor[gray]{0.7}0.5 & 1 & - &  & 0.1 & - & - & 0 & - &  & - & - & - & - & - & 0.1 & 0.1 & - & - \\\hline
2.2 & 0.4 & - & \cellcolor[gray]{0.7}0.7 & \cellcolor{black}1 & 1 & - &  & 0.1 & 0.2 & 0.2 & 0.1 & - &  & - & 0.2 & - & - & - & 0.1 & 0.1 & - & - \\\hline
3.1 & 0.4 & - & \cellcolor[gray]{0.7}0.7 & \cellcolor[gray]{0.7}0.5 & \cellcolor{black}1 & - &  & 0.1 & - & - & - & - &  & - & - & - & - & - & 0.1 & 0.1 & - & - \\\hline
3.2 & - & - & - & - & - & \cellcolor{black}1 &  & 0.1 & - & 0.2 & 0.1 & - &  & \cellcolor[gray]{0.7}0.7 & 0.2 & - & - & - & 0 & - & - & - \\\hline
3.3 & - & - & - & - & - & - & \cellcolor{black} & - & - & - & - & - &  & - & - & - & - & - & - & - & - & - \\\hline
3.4 & 0.2 & - & 0.3 & 0.3 & \cellcolor[gray]{0.7}0.5 & 0.3 &  & \cellcolor{black}1 & - & - & 0 & - &  &  \cellcolor[gray]{0.3} \textcolor{white}{0.3} & - & - & - & - & 0.3 & 0.1 & - & 0.1 \\\hline
3.5 & - & - & - & 0.3 & - & - &  & - & \cellcolor{black}1 & 0.2 & 0.1 & - &  & - & 0.2 & 0.4 & - & - & 0 & - & - & - \\\hline
3.6 & - & - & - & 0.3 & - & 0.3 &  & - & 0.2 & \cellcolor{black}1 & 0.1 & - &  & - & \cellcolor[gray]{0.7}0.8 & - & - & - & - & - & - & 0.1 \\\hline
4.1 & 0.2 & - & 0.3 & \cellcolor[gray]{0.7}0.5 & - & \cellcolor[gray]{0.7}0.7 &  & 0.1 & 0.4 & \cellcolor[gray]{0.7}0.6 & \cellcolor{black}1 & - &  & \cellcolor[gray]{0.7}0.7 & \cellcolor[gray]{0.7}0.5 & 0.1 & - & - & 0.2 & - & - & 0.1 \\\hline
4.2 & - & - & - & - & - & - &  & - & - & - & - & \cellcolor{black}1 &  & - & - & - & - & - & 0 & - & - & - \\\hline
4.3 & - & - & - & - & - & - &  & - & - & - & - & - & \cellcolor{black} & - & - & - & - & - & - & - & - & - \\\hline
4.4 & - & - & - & - & - & \cellcolor[gray]{0.7}0.7 &  & 0.1 & - & - & 0.1 & - &  & \cellcolor{black}1 & - & - & - & - & 0 & - & 0.1 & - \\\hline
4.5 & - & - & - & 0.3 & - & 0.3 &  & - & 0.2 & 1 & 0.1 & - &  & - & \cellcolor{black}1 & - & - & 1 & - & - & - & 0.1 \\\hline
4.6 & - & - & - & - & - & - &  & - & \cellcolor[gray]{0.7}0.8 & - & 0 & - &  & - & - & \cellcolor{black}1 & - & - & 0.1 & 0.1 & 0.1 & - \\\hline
4.7 & - & - & - & - & - & - &  & - & - & - & - & - &  & - & - & - & \cellcolor{black}1 & - & - & - & - & 0.1 \\\hline
4.8 & - & - & - & - & - & - &  & - & - & - & - & - &  & - & 0.2 & - & - & \cellcolor{black}1 & - & - & - & - \\\hline
4.9 & 0.4 & - & \cellcolor[gray]{0.7}0.7 & \cellcolor[gray]{0.7}0.5 & \cellcolor[gray]{0.7}1 & 0.3 &  & \cellcolor[gray]{0.7}1 & 0.2 & - & 0.2 & \cellcolor[gray]{0.7}1 &  & 0.3 & - & 0.2 & - & - & \cellcolor{black}1 & 0.1 & - & 0.3 \\\hline
4.1 & 0.2 & - & 0.3 & 0.3 & \cellcolor[gray]{0.7}0.5 & - &  & 0.1 & - & - & - & - &  & - & - & 0.1 & - & - & 0 & \cellcolor{black}1 & \cellcolor[gray]{0.7}0.6 & 0.3 \\\hline
4.11 & - & - & - & - & - & - &  & - & - & - & - & - &  & 0.3 & - & 0.1 & - & - & - & \cellcolor[gray]{0.7}0.9 & \cellcolor{black}1 & 0.4 \\\hline
4.12 & - & - & - & - & - & - &  & 0.1 & - & 0.2 & 0 & - &  & - & 0.2 & - & 0.3 & - & 0.1 & 0.3 & 0.3 & \cellcolor{black}1 \\\hline
\hline
不具合データの総数 & 5  & 4  & 3  & 4  & 2  & 3  & 0  & 8  & 5  & 5  & 21  & 1  & 0  & 3  & 6  & 9  & 3  & 1  & 28  & 10  & 16  & 12  \\\hline
\end{tabular}\hfil}
\end{center}
\end{table*}
\end{landscape}
\subsubsection{欠陥の起点となるプロセス}
表\ref{影響度}より明らかになった点を述べる．
まず1つ目に，表\ref{ソフトウェア開発プロセス}で示した工程の中でも，より上位の工程においてプロセス1.1の``開発計画立案''の影響が大きい点である．
\ref{sec:making_table}章で示したように，プロセス2.1の``要求抽出''はプロセス1.1の``開発計画立案''の影響を非常に多く受けており，プロセス2.2の``要求仕様書作成''は1.1の``開発計画立案''やプロセス2.1の``要求抽出''の影響を受けている．
また，プロセス3.1の``構成物の明確化''はプロセス1.1の``開発計画立案''，プロセス2.1の``要求抽出''，プロセス2.2の``要求仕様書作成''の影響が大きい．
以上より，プロセス1.1の``開発計画立案''をより完璧に仕上げることで，プロセス2.1の``要求抽出''，プロセス2.2の``要求仕様書作成''，プロセス3.1の``構成物の明確化''の不具合解消に大きな影響があることが分かる．
上記で示したプロセスは，上流工程の中でも極めて上位に位置するプロセスであり，システム全体に関わる枠組みを決めているため，互いに影響を及ぼしていると考えられる．

2つ目に，表\ref{ソフトウェア開発プロセス}で示した工程の中でも下位にあるプロセス4.9の``前提条件の明確化''が他のプロセスへ大きな影響を与えている点である．
このプロセスは欠陥が最も多かったプロセスである．
しかし，特定のプロセスからの影響度が高いわけではないが，プロセス2.1の``要求抽出''，プロセス2.2の``要求仕様書作成''，プロセス3.1の``構成物の明確化''，``識別子付与''等，多くのプロセスから影響を受けている．
これは，前提条件や制約などに関するプロセスがプロセス4.9の``前提条件の明確化''より上のプロセスで明確になっておらず，プロセス4.9の``前提条件の明確化''より上位のプロセスから満遍なく影響を受けているためだと考えられる．


本分析より他のプロセスに影響を与える欠陥の起点となっているプロセスを導くことができた．
欠陥の起点となっているプロセスとして以下の条件を考えた．
\begin{description}
\item[条件1] 特定のプロセスから影響を受けていない
\item[条件2] 他のプロセスに関して影響を与えている
\end{description}

本分析の結果より，条件1を満たす候補としては，プロセス1.1の``開発計画立案''，プロセス3.2の``要求の割り当て''，プロセス3.3の``CSの実現可能性の評価''，プロセス4.2の``識別子付与''，プロセス4.3の``DB仕様書を含める''，プロセス4.7の``RAの実現可能性評価''があげられる．
このうち，条件2を満たすものは，プロセス1.1の``開発計画立案''，プロセス3.2の``要求の割り当て''，プロセス4.2の``識別子付与''となる．

よって今回の不具合データからは，プロセス1.1の``開発計画立案''，プロセス3.2の``要求の割り当て''，プロセス4.2の``識別子付与''が欠陥の起点となり，このプロセスを強化することでより他のプロセスに関しても影響が伝わり，より多くの不具合を減らすことが期待される．


\subsection{提案手法の議論}
\label{sec:con}
本研究で提案した手法は，静的な欠陥による分類法と，動的なソフトウェア開発プロセスを合わせたものであり，要求が不完全であることに起因するソフトウェア問題の分類法である．
この分類法により，ある組織における要求漏れに起因するソフトウェア問題の傾向を知ることが可能となる．
静的な欠陥による分類では，汎用的な観点における分類で欠陥について幅広く分析をしている．
また，組織で使用している動的であるソフトウェア開発プロセスを用いることで，議論をすべき個所を絞ることができる．

従来の静的な欠陥による分類では，観点による分類だけであったため，分類結果を基にプロジェクトを改善するには至らなかった．
しかし，本研究で提案した動的なプロセスによる分類を組み合わせることで，着目すべき個所が明確になり，結果として議論すべき指標として活用することができる．
本研究では動的なプロセスによる分類としてJAXAで使用されているプロセスを用いたが，このプロセスは一般的なプロセスを基に作られている．
他の一般的なウォーターフォール型のソフトウェア開発プロジェクトにおいても同様の工程が行われており，プロセスを変更することで利用することが可能である．
